
<!DOCTYPE html>
<html lang="en">
    
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="Hi!----wangyuec15">
    <title>Network-Lecture-6 - Hi!----wangyuec15</title>
    <meta name="author" content="Yuechen Wang">
    
    
    
    <script type="application/ld+json">{"@context":"http://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Yuechen Wang","sameAs":["https://github.com/","http://stackoverflow.com/users","https://twitter.com/","https://facebook.com/","https://plus.google.com/","https://www.linkedin.com/profile/","mailto"],"image":"author.jpg"},"articleBody":"BGP\ntransport layer - \n\n\nBGP path\nvalley-free\n\nGao-Rexford Conditions\nreceive from customer: announce to customers, peers and providers\nfrom peer: only to customers\nfrom provider: only to customers\n\nWho speaks BGP?\nBorder router: tes\nInternal router: speak to border router, but not other routers\n\nISPs peer?\npublic peeringuse network to connect\nprivate peering: directly connect ISP border routers\n\nSpeak BGP: Implement the bgp protocol\nBGP “sessions”external BGP sessions - “eBGP session” between border routers in different ASes“iBGP session”\nSome Border Routers Don’t need BGPdefault ISP\nRoute updates&lt;IP prefix: route attributes&gt;announcementwithdraw\nRoute attributes\nASPATH\nNEXT HOP: the IP address I want to send the packet to \nLOCAL PREF: used to choose between different AS path\nORIGIN: who originated the announcement\nMED: lower is better preferred link\nIGP cost: used for shorter\n\nIGP may conflict with MEDHot-potato: get out of my network as soon as possible (asymmetric routing)\nReachabilityJust because you are in the same network doesn’t means you can talk ti each other\nSecurityAn AS can claim to serve a prefix that they actually don’t have a route to\nConvergencePerformanceBGP is designed with profit in mind, not performance\nTransport4/5 layer in the Internet model“which packet belongs to which process?”Communication between processes at hosts\nSockets: \n\nUDP: SOCK_DGRAM\nTCP:SOCK_\n\nPorts: hosts to know how to route a data\nUDP: User Datagram Protocol\n\nlightweight communication between processes\n\nchecksum\n\ntake every 32bit word and XOR them together\n\nRole of the transport layer\ncommunication between processes\n\nSequence numberstop-and-wait: slow\nsliding windows: get an ack at the beginning of window, slide it\n\nhandling lost\napproach 1: go back N (wasteful - ignoring these packets is useful)\napproach 2: selective repeat\n\n\n\ndesign window size\n\nTCP is like selective repeat but\n\nit uses cumulative acks\ninstead of packet sequence it use byte sequence numbers\n\n","dateCreated":"2022-09-27T15:13:05-04:00","dateModified":"2022-09-27T16:16:50-04:00","datePublished":"2022-09-27T15:13:05-04:00","description":"BGP\ntransport layer - ","headline":"Network-Lecture-6","image":[],"mainEntityOfPage":{"@type":"WebPage","@id":"http://example.com/2022/09/27/Network-Lecture-6/"},"publisher":{"@type":"Organization","name":"Yuechen Wang","sameAs":["https://github.com/","http://stackoverflow.com/users","https://twitter.com/","https://facebook.com/","https://plus.google.com/","https://www.linkedin.com/profile/","mailto"],"image":"author.jpg","logo":{"@type":"ImageObject","url":"author.jpg"}},"url":"http://example.com/2022/09/27/Network-Lecture-6/","keywords":"networks"}</script>
    <meta name="description" content="BGP transport layer -">
<meta property="og:type" content="blog">
<meta property="og:title" content="Network-Lecture-6">
<meta property="og:url" content="http://example.com/2022/09/27/Network-Lecture-6/index.html">
<meta property="og:site_name" content="Hi!----wangyuec15">
<meta property="og:description" content="BGP transport layer -">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2022-09-27T19:13:05.000Z">
<meta property="article:modified_time" content="2022-09-27T20:16:50.914Z">
<meta property="article:author" content="Yuechen Wang">
<meta property="article:tag" content="networks">
<meta name="twitter:card" content="summary">
    
    
        
    
    
        <meta property="og:image" content="http://example.com/assets/images/author.jpg"/>
    
    
    
    
    <!--STYLES-->
    
<link rel="stylesheet" href="/assets/css/style-migvazkmlhn4neeioayjfrnyheddmclkjltitjeam28pp9rzidnbrd6eitkf.min.css">

    <!--STYLES END-->
    

    

    
        
    
</head>

    <body>
        <div id="blog">
            <!-- Define author's picture -->


    
        
            
        
    

<header id="header" data-behavior="4">
    <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <div class="header-title">
        <a
            class="header-title-link"
            href="/"
            aria-label=""
        >
            Hi!----wangyuec15
        </a>
    </div>
    
        
            <a
                class="header-right-picture "
                href="#about"
                aria-label="Open the link: /#about"
            >
        
        
            <img class="header-picture" src="/assets/images/author.jpg" alt="Author&#39;s picture"/>
        
        </a>
    
</header>

            <!-- Define author's picture -->



        
    

<nav id="sidebar" data-behavior="4">
    <div class="sidebar-container">
        
            <div class="sidebar-profile">
                <a
                    href="/#about"
                    aria-label="Read more about the author"
                >
                    <img class="sidebar-profile-picture" src="/assets/images/author.jpg" alt="Author&#39;s picture"/>
                </a>
                <h4 class="sidebar-profile-name">Yuechen Wang</h4>
                
                    <h5 class="sidebar-profile-bio"><p>Carnegie Mellon University</p>
</h5>
                
            </div>
        
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/"
                            
                            rel="noopener"
                            title="Home"
                        >
                        <i class="sidebar-button-icon fa fa-home" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Home</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/all-categories"
                            
                            rel="noopener"
                            title="Categories"
                        >
                        <i class="sidebar-button-icon fa fa-bookmark" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Categories</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/all-tags"
                            
                            rel="noopener"
                            title="Tags"
                        >
                        <i class="sidebar-button-icon fa fa-tags" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Tags</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/all-archives"
                            
                            rel="noopener"
                            title="Archives"
                        >
                        <i class="sidebar-button-icon fa fa-archive" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Archives</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link open-algolia-search"
                            href="#search"
                            
                            rel="noopener"
                            title="Search"
                        >
                        <i class="sidebar-button-icon fa fa-search" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Search</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="#about"
                            
                            rel="noopener"
                            title="About"
                        >
                        <i class="sidebar-button-icon fa fa-question" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">About</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://github.com/"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="GitHub"
                        >
                        <i class="sidebar-button-icon fab fa-github" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">GitHub</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="http://stackoverflow.com/users"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="Stack Overflow"
                        >
                        <i class="sidebar-button-icon fab fa-stack-overflow" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Stack Overflow</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://twitter.com/"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="Twitter"
                        >
                        <i class="sidebar-button-icon fab fa-twitter" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Twitter</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://facebook.com/"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="Facebook"
                        >
                        <i class="sidebar-button-icon fab fa-facebook" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Facebook</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://plus.google.com/"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="Google +"
                        >
                        <i class="sidebar-button-icon fab fa-google-plus" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Google +</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://www.linkedin.com/profile/"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="LinkedIn"
                        >
                        <i class="sidebar-button-icon fab fa-linkedin" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">LinkedIn</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/mailto"
                            
                            rel="noopener"
                            title="Mail"
                        >
                        <i class="sidebar-button-icon fa fa-envelope" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Mail</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/atom.xml"
                            
                            rel="noopener"
                            title="RSS"
                        >
                        <i class="sidebar-button-icon fa fa-rss" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">RSS</span>
                    </a>
            </li>
            
        </ul>
        
    </div>
</nav>

            
            <div id="main" data-behavior="4"
                 class="
                        hasCoverMetaIn
                        ">
                
<article class="post">
    
    
        <div class="post-header main-content-wrap text-left">
    
        <h1 class="post-title">
            Network-Lecture-6
        </h1>
    
    
        <div class="post-meta">
    <time datetime="2022-09-27T15:13:05-04:00">
	
		    Sep 27, 2022
    	
    </time>
    
</div>

    
</div>

    
    <div class="post-content markdown">
        <div class="main-content-wrap">
            <p>BGP</p>
<p>transport layer - </p>
<span id="more"></span>

<h2 id="BGP-path"><a href="#BGP-path" class="headerlink" title="BGP path"></a>BGP path</h2><ul>
<li>valley-free</li>
</ul>
<h3 id="Gao-Rexford-Conditions"><a href="#Gao-Rexford-Conditions" class="headerlink" title="Gao-Rexford Conditions"></a>Gao-Rexford Conditions</h3><ul>
<li>receive from customer: announce to customers, peers and providers</li>
<li>from peer: only to customers</li>
<li>from provider: only to customers</li>
</ul>
<h3 id="Who-speaks-BGP"><a href="#Who-speaks-BGP" class="headerlink" title="Who speaks BGP?"></a>Who speaks BGP?</h3><ul>
<li>Border router: tes</li>
<li>Internal router: speak to border router, but not other routers</li>
</ul>
<h2 id="ISPs-peer"><a href="#ISPs-peer" class="headerlink" title="ISPs peer?"></a>ISPs peer?</h2><ul>
<li>public peeringuse network to connect</li>
<li>private peering: directly connect ISP border routers</li>
</ul>
<p>Speak BGP: Implement the bgp protocol</p>
<p>BGP “sessions”<br>external BGP sessions - “eBGP session” between border routers in different ASes<br>“iBGP session”</p>
<h3 id="Some-Border-Routers-Don’t-need-BGP"><a href="#Some-Border-Routers-Don’t-need-BGP" class="headerlink" title="Some Border Routers Don’t need BGP"></a>Some Border Routers Don’t need BGP</h3><p>default ISP</p>
<h2 id="Route-updates"><a href="#Route-updates" class="headerlink" title="Route updates"></a>Route updates</h2><p>&lt;IP prefix: route attributes&gt;<br>announcement<br>withdraw</p>
<h3 id="Route-attributes"><a href="#Route-attributes" class="headerlink" title="Route attributes"></a>Route attributes</h3><ol>
<li>ASPATH</li>
<li>NEXT HOP: the IP address I want to send the packet to </li>
<li>LOCAL PREF: used to choose between different AS path</li>
<li>ORIGIN: who originated the announcement</li>
<li>MED: lower is better preferred link</li>
<li>IGP cost: used for shorter</li>
</ol>
<p>IGP may conflict with MED<br>Hot-potato: get out of my network as soon as possible (asymmetric routing)</p>
<h3 id="Reachability"><a href="#Reachability" class="headerlink" title="Reachability"></a>Reachability</h3><p>Just because you are in the same network doesn’t means you can talk ti each other</p>
<h3 id="Security"><a href="#Security" class="headerlink" title="Security"></a>Security</h3><p>An AS can claim to serve a prefix that they actually don’t have a route to</p>
<h3 id="Convergence"><a href="#Convergence" class="headerlink" title="Convergence"></a>Convergence</h3><h3 id="Performance"><a href="#Performance" class="headerlink" title="Performance"></a>Performance</h3><p>BGP is designed with profit in mind, not performance</p>
<h2 id="Transport"><a href="#Transport" class="headerlink" title="Transport"></a>Transport</h2><p>4/5 layer in the Internet model<br>“which packet belongs to which process?”<br>Communication between processes at hosts</p>
<p>Sockets: </p>
<ul>
<li>UDP: SOCK_DGRAM</li>
<li>TCP:SOCK_</li>
</ul>
<p>Ports: hosts to know how to route a data</p>
<p>UDP: User Datagram Protocol</p>
<ul>
<li>lightweight communication between processes</li>
</ul>
<p>checksum</p>
<ul>
<li>take every 32bit word and XOR them together</li>
</ul>
<h3 id="Role-of-the-transport-layer"><a href="#Role-of-the-transport-layer" class="headerlink" title="Role of the transport layer"></a>Role of the transport layer</h3><ul>
<li>communication between processes</li>
</ul>
<p>Sequence number<br>stop-and-wait: slow</p>
<p>sliding windows: get an ack at the beginning of window, slide it</p>
<ul>
<li>handling lost<ul>
<li>approach 1: go back N (wasteful - ignoring these packets is useful)</li>
<li>approach 2: selective repeat</li>
<li></li>
</ul>
</li>
<li>design window size</li>
</ul>
<p>TCP is like selective repeat but</p>
<ul>
<li>it uses cumulative acks</li>
<li>instead of packet sequence it use byte sequence numbers</li>
</ul>

            


        </div>
    </div>
    <div id="post-footer" class="post-footer main-content-wrap">
        
            <div class="post-footer-tags">
                <span class="text-color-light text-small">TAGGED IN</span><br/>
                
    <a class="tag tag--primary tag--small t-none-link" href="/tags/networks/" rel="tag">networks</a>

            </div>
        
        
            <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/2022/10/14/Context-Essay/"
                    data-tooltip="Context-Essay"
                    aria-label="PREVIOUS: Context-Essay"
                >
                    
                        <i class="fa fa-angle-left" aria-hidden="true"></i>
                        <span class="hide-xs hide-sm text-small icon-ml">PREVIOUS</span>
                    </a>
            </li>
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/2022/09/27/Coding-Bootcamp-4/"
                    data-tooltip="Coding-Bootcamp-4"
                    aria-label="NEXT: Coding-Bootcamp-4"
                >
                    
                        <span class="hide-xs hide-sm text-small icon-mr">NEXT</span>
                        <i class="fa fa-angle-right" aria-hidden="true"></i>
                    </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a
                class="post-action-btn btn btn--default btn-open-shareoptions"
                href="#btn-open-shareoptions"
                aria-label="Share this post"
            >
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://www.facebook.com/sharer/sharer.php?u=http://example.com/2022/09/27/Network-Lecture-6/"
                    title="Share on Facebook"
                    aria-label="Share on Facebook"
                >
                    <i class="fab fa-facebook" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://twitter.com/intent/tweet?text=http://example.com/2022/09/27/Network-Lecture-6/"
                    title="Share on Twitter"
                    aria-label="Share on Twitter"
                >
                    <i class="fab fa-twitter" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://plus.google.com/share?url=http://example.com/2022/09/27/Network-Lecture-6/"
                    title="Share on Google+"
                    aria-label="Share on Google+"
                >
                    <i class="fab fa-google-plus" aria-hidden="true"></i>
                </a>
            </li>
        
        
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#" aria-label="Back to top">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


        
        
            
        
    </div>
</article>



                <footer id="footer" class="main-content-wrap">
    <span class="copyrights">
        Copyrights &copy; 2022 Yuechen Wang. All Rights Reserved.
    </span>
</footer>

            </div>
            
                <div id="bottom-bar" class="post-bottom-bar" data-behavior="4">
                    <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/2022/10/14/Context-Essay/"
                    data-tooltip="Context-Essay"
                    aria-label="PREVIOUS: Context-Essay"
                >
                    
                        <i class="fa fa-angle-left" aria-hidden="true"></i>
                        <span class="hide-xs hide-sm text-small icon-ml">PREVIOUS</span>
                    </a>
            </li>
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/2022/09/27/Coding-Bootcamp-4/"
                    data-tooltip="Coding-Bootcamp-4"
                    aria-label="NEXT: Coding-Bootcamp-4"
                >
                    
                        <span class="hide-xs hide-sm text-small icon-mr">NEXT</span>
                        <i class="fa fa-angle-right" aria-hidden="true"></i>
                    </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a
                class="post-action-btn btn btn--default btn-open-shareoptions"
                href="#btn-open-shareoptions"
                aria-label="Share this post"
            >
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://www.facebook.com/sharer/sharer.php?u=http://example.com/2022/09/27/Network-Lecture-6/"
                    title="Share on Facebook"
                    aria-label="Share on Facebook"
                >
                    <i class="fab fa-facebook" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://twitter.com/intent/tweet?text=http://example.com/2022/09/27/Network-Lecture-6/"
                    title="Share on Twitter"
                    aria-label="Share on Twitter"
                >
                    <i class="fab fa-twitter" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://plus.google.com/share?url=http://example.com/2022/09/27/Network-Lecture-6/"
                    title="Share on Google+"
                    aria-label="Share on Google+"
                >
                    <i class="fab fa-google-plus" aria-hidden="true"></i>
                </a>
            </li>
        
        
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#" aria-label="Back to top">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


                </div>
                
    <div id="share-options-bar" class="share-options-bar" data-behavior="4">
        <i id="btn-close-shareoptions" class="fa fa-times"></i>
        <ul class="share-options">
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="https://www.facebook.com/sharer/sharer.php?u=http://example.com/2022/09/27/Network-Lecture-6/"
                        aria-label="Share on Facebook"
                    >
                        <i class="fab fa-facebook" aria-hidden="true"></i><span>Share on Facebook</span>
                    </a>
                </li>
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="https://twitter.com/intent/tweet?text=http://example.com/2022/09/27/Network-Lecture-6/"
                        aria-label="Share on Twitter"
                    >
                        <i class="fab fa-twitter" aria-hidden="true"></i><span>Share on Twitter</span>
                    </a>
                </li>
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="https://plus.google.com/share?url=http://example.com/2022/09/27/Network-Lecture-6/"
                        aria-label="Share on Google+"
                    >
                        <i class="fab fa-google-plus" aria-hidden="true"></i><span>Share on Google+</span>
                    </a>
                </li>
            
        </ul>
    </div>


            
        </div>
        


    
        
    

<div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-times"></i>
        </div>
        
            <img id="about-card-picture" src="/assets/images/author.jpg" alt="Author&#39;s picture"/>
        
            <h4 id="about-card-name">Yuechen Wang</h4>
        
            <div id="about-card-bio"><p>Carnegie Mellon University</p>
</div>
        
        
            <div id="about-card-job">
                <i class="fa fa-briefcase"></i>
                <br/>
                <p>M.S. Computational Design Candidate</p>

            </div>
        
        
    </div>
</div>

        
        
<div id="cover" style="background-image:url('/assets/images/cover.jpg');"></div>
        <!--SCRIPTS-->

<script src="/assets/js/script-yl5kf65gwl5ghj916mxmtyxiui0knr8rznnrgoojfrmtwnuqfkrbmge4nzr2.min.js"></script>

<!--SCRIPTS END-->


    




    </body>
</html>
